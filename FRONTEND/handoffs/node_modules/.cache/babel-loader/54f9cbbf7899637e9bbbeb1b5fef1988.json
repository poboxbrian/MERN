{"ast":null,"code":"var _jsxFileName = \"/Users/poboxbrian/DEVEL/MERN/FRONTEND/handoffs/src/components/handoff-edit.component.js\";\nimport React, { Component, Fragment } from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css'; // minified version is also included\n// import 'react-toastify/dist/ReactToastify.min.css';\n\nexport default class HandoffEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeNameValue = this.onChangeNameValue.bind(this);\n    this.onChangeToggle = this.onChangeToggle.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      id: null,\n      description: '',\n      responsible: '',\n      priority: '',\n      completed: false,\n      onEdit: false,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.match.params.id) {\n      return;\n    }\n\n    axios.get('http://localhost:4000/handoffs/' + this.props.match.params.id).then(response => {\n      this.setState({\n        id: this.props.match.params.id,\n        description: response.data.description,\n        responsible: response.data.responsible,\n        priority: response.data.priority,\n        completed: response.data.completed,\n        onEdit: null\n      });\n    }).catch(err => {\n      this.setState({\n        error: err\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setState({\n      onEdit: false,\n      onAdd: true,\n      error: null\n    });\n  }\n\n  onChangeNameValue(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onChangeToggle(e) {\n    this.setState({\n      [e.target.name]: !this.state[e.target.name]\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.id) {\n      const obj = {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        priority: this.state.priority,\n        completed: this.state.completed\n      };\n      axios.post('http://localhost:4000/handoffs/update/' + this.props.match.params.id, obj).then(res => {\n        this.setState({\n          onEdit: true,\n          onAdd: false\n        });\n      }).catch(err => {\n        this.setState({\n          error: err\n        });\n      });\n    } else {\n      const newHandoff = {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        priority: this.state.priority,\n        completed: this.state.completed\n      };\n      axios.post('http://localhost:4000/handoffs/add', newHandoff).then(res => console.log(res.data)).catch(err => {\n        this.setState({\n          error: err\n        });\n      });\n      this.setState({\n        description: '',\n        responsible: '',\n        priority: '',\n        completed: false,\n        onEdit: false,\n        onAdd: true\n      });\n    }\n  }\n\n  displayHeader() {\n    if (this.state.id) {\n      return React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Update Handoff\");\n    } else {\n      return React.createElement(\"h3\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Create New Handoff\");\n    }\n  }\n\n  displayReport() {\n    if (this.state.error) {\n      toast.error(this.state.error);\n    } else if (this.state.onEdit) {\n      toast.success(\"Successful Edit\");\n    } else if (this.state.onAdd) {\n      toast.success(\"Successful Created\");\n    }\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, this.displayReport(), React.createElement(ToastContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.displayHeader(), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Description: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"description\",\n      value: this.state.description,\n      onChange: this.onChangeNameValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Responsible: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"responsible\",\n      value: this.state.responsible,\n      onChange: this.onChangeNameValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"priority\",\n      value: \"Low\",\n      checked: this.state.priority === 'Low',\n      onChange: this.onChangeNameValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Low\")), React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"priority\",\n      value: \"Medium\",\n      checked: this.state.priority === 'Medium',\n      onChange: this.onChangeNameValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Medium\")), React.createElement(\"div\", {\n      className: \"form-check form-check-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"priority\",\n      value: \"High\",\n      checked: this.state.priority === 'High',\n      onChange: this.onChangeNameValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"High\"))), React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"checkbox\",\n      name: \"completed\",\n      onChange: this.onChangeToggle,\n      checked: this.state.completed,\n      value: this.state.completed,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"form-check-label\",\n      htmlFor: \"completedCheckbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Completed\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Save\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["/Users/poboxbrian/DEVEL/MERN/FRONTEND/handoffs/src/components/handoff-edit.component.js"],"names":["React","Component","Fragment","axios","ToastContainer","toast","HandoffEdit","constructor","props","onChangeNameValue","bind","onChangeToggle","onSubmit","state","id","description","responsible","priority","completed","onEdit","error","componentDidMount","match","params","get","then","response","setState","data","catch","err","componentDidUpdate","prevProps","prevState","snapshot","onAdd","e","target","name","value","preventDefault","obj","post","res","newHandoff","console","log","displayHeader","displayReport","success","render","marginTop"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// minified version is also included\n// import 'react-toastify/dist/ReactToastify.min.css';\n\nexport default class HandoffEdit extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeNameValue = this.onChangeNameValue.bind(this);\n    this.onChangeToggle = this.onChangeToggle.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      id: null,\n      description: '',\n      responsible: '',\n      priority: '',\n      completed: false,\n      onEdit: false,\n      error: null\n    }\n  }\n\n  componentDidMount() {\n    if (!this.props.match.params.id) {\n      return;\n    }\n    axios.get('http://localhost:4000/handoffs/'+this.props.match.params.id)\n      .then(response => {\n        this.setState({\n          id: this.props.match.params.id,\n          description: response.data.description,\n          responsible: response.data.responsible,\n          priority: response.data.priority,\n          completed: response.data.completed,\n          onEdit: null\n        })\n      })\n      .catch(err => {\n        this.setState({\n          error: err\n        });\n      })\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setState({\n      onEdit: false,\n      onAdd: true,\n      error: null\n    })\n  }\n\n  onChangeNameValue(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onChangeToggle(e) {\n    this.setState({\n      [e.target.name]: !this.state[e.target.name]\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    if (this.state.id) {\n      const obj = {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        priority: this.state.priority,\n        completed: this.state.completed\n      };\n      axios.post('http://localhost:4000/handoffs/update/'+this.props.match.params.id, obj)\n        .then(res => {\n          this.setState({\n            onEdit: true,\n            onAdd: false\n          });\n        })\n        .catch( err => {\n          this.setState({\n            error: err\n          });\n        });\n\n    } else {\n      const newHandoff = {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        priority: this.state.priority,\n        completed: this.state.completed\n      };\n\n      axios.post('http://localhost:4000/handoffs/add', newHandoff)\n        .then(res => console.log(res.data))\n        .catch( err => {\n          this.setState({\n            error: err\n          });\n        });\n\n\n      this.setState({\n        description: '',\n        responsible: '',\n        priority: '',\n        completed: false,\n        onEdit: false,\n        onAdd: true\n      });\n    }\n  }\n\n  displayHeader() {\n    if (this.state.id) {\n      return <h3 align=\"center\">Update Handoff</h3>;\n    } else {\n      return <h3 align=\"center\">Create New Handoff</h3>;\n    }\n  }\n\n  displayReport() {\n    if (this.state.error) {\n      toast.error(this.state.error);\n    } else if (this.state.onEdit) {\n      toast.success(\"Successful Edit\");\n    } else if (this.state.onAdd) {\n      toast.success(\"Successful Created\");\n    }\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div>\n          {this.displayReport()}\n          <ToastContainer />\n        </div>\n        <div style={{marginTop: 10}}>\n          { this.displayHeader() }\n          <form onSubmit={this.onSubmit}>\n            <div className=\"form-group\">\n              <label>Description: </label>\n              <input  type=\"text\"\n                      className=\"form-control\"\n                      name={\"description\"}\n                      value={this.state.description}\n                      onChange={this.onChangeNameValue}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Responsible: </label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                name={\"responsible\"}\n                value={this.state.responsible}\n                onChange={this.onChangeNameValue}\n              />\n            </div>\n            <div className=\"form-group\">\n              <div className=\"form-check form-check-inline\">\n                <input  className=\"form-check-input\"\n                        type=\"radio\"\n                        name=\"priority\"\n                        value=\"Low\"\n                        checked={this.state.priority === 'Low'}\n                        onChange={this.onChangeNameValue}\n                />\n                <label className=\"form-check-label\">Low</label>\n              </div>\n              <div className=\"form-check form-check-inline\">\n                <input  className=\"form-check-input\"\n                        type=\"radio\"\n                        name=\"priority\"\n                        value=\"Medium\"\n                        checked={this.state.priority === 'Medium'}\n                        onChange={this.onChangeNameValue}\n                />\n                <label className=\"form-check-label\">Medium</label>\n              </div>\n              <div className=\"form-check form-check-inline\">\n                <input  className=\"form-check-input\"\n                        type=\"radio\"\n                        name=\"priority\"\n                        value=\"High\"\n                        checked={this.state.priority === 'High'}\n                        onChange={this.onChangeNameValue}\n                />\n                <label className=\"form-check-label\">High</label>\n              </div>\n            </div>\n            <div className=\"form-check\">\n              <input  className=\"form-check-input\"\n                      type=\"checkbox\"\n                      name=\"completed\"\n                      onChange={this.onChangeToggle}\n                      checked={this.state.completed}\n                      value={this.state.completed}\n              />\n              <label className=\"form-check-label\" htmlFor=\"completedCheckbox\">\n                Completed\n              </label>\n            </div>\n\n            <br />\n\n            <div className=\"form-group\">\n              <input\n                type=\"submit\" value=\"Save\" className=\"btn btn-primary\"\n              />\n            </div>\n          </form>\n        </div>\n      </Fragment>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}